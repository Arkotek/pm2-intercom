<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes APIClientCloudFunction Classes Classes API Client CloudFunction × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-25T13:27:29+02:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes APIClientCloudFunction pm2-intercomThis module allows to execute lambdas in any language accross a private network without any configuration needed (automatic discovery and data replication). The more pm2-intercom you add, the more calculation power you get. LambdasA lambda is a simple script that will be executed over the network and will return a result to the calling script. Example: module.exports = function(context, cb) { request(context.data.url, function (err, res, body) { if (error) return cb(error); return cb(null, body); }); };Automatic discoveryEach PM2 in the same subnet will auto discover themseleves via DNS multicast. Files &amp; Env synchronizationThe working directory will be automatically synchronized over the network. One PM2 is the &quot;file master&quot; and all other peers will synchronize with these files. The node_modules folder is also included on file broadcast. Data is transfered via a gziped tarball. Lambda managementPM2 is behind the scene to manage and cluster (if JS apps) tasks. Lambda in another languageTo write a lambda in another language, you just need to create a HTTP server listening on port TASK_PORT on route / and returning the value needed: Python: #!/usr/bin/python from BaseHTTPServer import BaseHTTPRequestHandler,HTTPServer import os PORT_NUMBER = int(os.environ['TASK_PORT']) class myHandler(BaseHTTPRequestHandler): #Handler for the GET requests def do_GET(self): self.send_response(200) self.send_header('Content-type','text/data') self.end_headers() self.wfile.write(&quot;Hello World !&quot;) return server = HTTPServer(('', PORT_NUMBER), myHandler) server.serve_forever() × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-25T13:27:29+02:00 using the DocStrap template. "},"API.html":{"id":"API.html","title":"Class: API","body":" Documentation Classes APIClientCloudFunction Class: API API new API(opts) Set API default values This: {API} Parameters: Name Type Description opts object options Properties Name Type Description port Port to listen on task_manager Task manager object Methods mountRoutes() Mount API routes setMiddlewares() Set Express middlewares (JSON parsing, Attach class to req) start() Start API and listen to port stop() Stop API + Terminate Task manager × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-25T13:27:29+02:00 using the DocStrap template. "},"Client.html":{"id":"Client.html","title":"Class: Client","body":" Documentation Classes APIClientCloudFunction Class: Client Client new Client() Client constructor This: {Client} Parameters: Name Type Description opts.task_folder opts.instances opts.env × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-25T13:27:29+02:00 using the DocStrap template. "},"CloudFunction.html":{"id":"CloudFunction.html","title":"Class: CloudFunction","body":" Documentation Classes APIClientCloudFunction Class: CloudFunction CloudFunction new CloudFunction(opts, cb) Main entry point of CloudFunction This: {CloudFunction} Parameters: Name Type Description opts object options Properties Name Type Description tmp_file string default location of sync data tmp_folder string default location of folder uncomp peer_api_port integer API port (then task p+1++) ns string (default pm2:fs) is_file_master boolean (default false) peer_address string (default network ip) cb function callback Methods &lt;static&gt; sendJson(sock, data) Transform JSON data to string and write to socket Parameters: Name Type Description sock object socket obj data object json object askAllPeersToSync() Send command to all peers to synchronize askPeerToSync(sock) Send synchronize command to target sock Parameters: Name Type Description sock object socket obj close() Close All getPeers() Return peers connected onNewPeer(sock) Handle peer when connected Parameters: Name Type Description sock object socket object start(sock) Start network discovery Parameters: Name Type Description sock object socket object × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-25T13:27:29+02:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
