<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Global Members EMPTY State constants extend Functions/constants needed by both the client and server. opcodes Opcode handlers parse Module exports. protocolVersion Constants querystring Functions/constants needed by both the client and server (but only in node). These are separate from common.js so they can be skipped when bundling for the browser. Methods ArraySet() A data structure which is a combination of an array and a set. Adding a new member is O(1), testing for membership is O(1), and finding the index of an element is O(1). Removing elements from the set is not supported. Only strings are supported for membership. BasicSourceMapConsumer() A BasicSourceMapConsumer instance represents a parsed source map which we can query for information about the original file positions by giving it a file position in the generated source. The only parameter is the raw source map (either as a JSON string, or already parsed to an object). According to the spec, source maps have the following attributes: - version: Which version of the source map spec this map is following. - sources: An array of URLs to the original source files. - names: An array of identifiers which can be referrenced by individual mappings. - sourceRoot: Optional. The URL root from which all sources are relative. - sourcesContent: Optional. An array of contents of the original source files. - mappings: A string of base64 VLQs which contain the actual mappings. - file: Optional. The generated file this source map is associated with. Here is an example source map, taken from the source map spec[0]: { version : 3, file: &quot;out.js&quot;, sourceRoot : &quot;&quot;, sources: [&quot;foo.js&quot;, &quot;bar.js&quot;], names: [&quot;src&quot;, &quot;maps&quot;, &quot;are&quot;, &quot;fun&quot;], mappings: &quot;AA,AB;;ABCDE;&quot; } [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1# bufferIndex() Internal api cleanUpNodesAfterPrune() Pruning certain nodes will result in empty or incomplete nodes, here we clean those nodes up. compareByGeneratedPositionsDeflated() Comparator between two mappings with deflated source and name indices where the generated positions are compared. Optionally pass in `true` as `onlyCompareGenerated` to consider two mappings with the same generated line and column, but different source/name/original line and column the same. Useful when searching for a mapping with a stubbed out mapping. compareByGeneratedPositionsInflated() Comparator between two mappings with inflated source and name strings where the generated positions are compared. compareByOriginalPositions() Comparator between two mappings where the original positions are compared. Optionally pass in `true` as `onlyCompareGenerated` to consider two mappings with the same original source/line/column, but different generated line and column the same. Useful when searching for a mapping with a stubbed out mapping. decode(data, start, end, encoding) Decodes bencoded data. Parameters: Name Type Description data Buffer start Number (optional) end Number (optional) encoding String (optional) Returns: Type Object | Array | Buffer | String | Number decode() Decodes the next base 64 VLQ value from the given string and returns the value and the rest of the string via the out parameter. decode() Decode a single base 64 character code digit to an integer. Returns -1 on failure. doQuickSort(ary, comparator, p, r) The Quick Sort algorithm. Parameters: Name Type Description ary Array An array to sort. comparator function Function to use to compare two items. p Number Start index of the array r Number End index of the array encode(data) Encodes data in bencode. Parameters: Name Type Description data Buffer | Array | String | Object | Number | Boolean Returns: Type Buffer encode() Returns the base 64 VLQ encoded value. encode() Encode an integer in the range of 0 to 63 to a single base 64 digit. format() Format extensions header value fromString(options) Parameters: Name Type Description options Object Options object that configures printing. fromUInt64() Return the closest floating-point representation to the buffer value. Precision will be lost for big numbers. fromVLQSigned() Converts to a two-complement value from a value where the sign bit is placed in the least significant bit. For example, as decimals: 2 (10 binary) becomes 1, 3 (11 binary) becomes -1 4 (100 binary) becomes 2, 5 (101 binary) becomes -2 generatedPositionAfter() Determine whether mappingB is after mappingA with respect to generated position. get() Returns the current listener Returns: the set function or undefined Type Mixed getArg(args, name, defaultValue) This is a helper function for getting values from parameter/options objects. Parameters: Name Type Description args The object we are extracting values from name The name of the property we are getting. defaultValue An optional value to return if the property is missing from the object. If this is not specified and the property is missing, an error will be thrown. handleHybiUpgrade() Entirely private apis, which may or may not be bound to a sepcific WebSocket instance. HTTPTracker(client, announceUrl, opts) HTTP torrent tracker client (for an individual tracker) Parameters: Name Type Description client Client parent bittorrent tracker client announceUrl string announce url of tracker opts Object options object IndexedSourceMapConsumer() An IndexedSourceMapConsumer instance represents a parsed source map which we can query for information. It differs from BasicSourceMapConsumer in that it takes &quot;indexed&quot; source maps (i.e. ones with a &quot;sections&quot; field) as input. The only parameter is a raw source map (either as a JSON string, or already parsed to an object). According to the spec for indexed source maps, they have the following attributes: - version: Which version of the source map spec this map is following. - file: Optional. The generated file this source map is associated with. - sections: A list of section definitions. Each value under the &quot;sections&quot; field has two fields: - offset: The offset into the original specified at which this section begins to apply, defined as an object with a &quot;line&quot; and &quot;column&quot; field. - map: A source map definition. This source map could also be indexed, but doesn't have to be. Instead of the &quot;map&quot; field, it's also possible to have a &quot;url&quot; field specifying a URL to retrieve a source map from, but that's currently unsupported. Here's an example source map, taken from the source map spec[0], but modified to omit a section which uses the &quot;url&quot; field. { version : 3, file: &quot;app.js&quot;, sections: [{ offset: {line:100, column:10}, map: { version : 3, file: &quot;section.js&quot;, sources: [&quot;foo.js&quot;, &quot;bar.js&quot;], names: [&quot;src&quot;, &quot;maps&quot;, &quot;are&quot;, &quot;fun&quot;], mappings: &quot;AAAA,E;;ABCDE;&quot; } }], } [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt initAsServerClient() Entirely private apis, which may or may not be bound to a sepcific WebSocket instance. join(aRoot, aPath) Joins two paths/URLs. Parameters: Name Type Description aRoot The root path or URL. aPath The path or URL to be joined with the root. - If aPath is a URL or a data URI, aPath is returned, unless aPath is a scheme-relative URL: Then the scheme of aRoot, if any, is prepended first. - Otherwise aPath is a path. If aRoot is a URL, then its path portion is updated with the result and aRoot is returned. Otherwise the result is returned. - If aPath is absolute, the result is aPath. - Otherwise the two paths are joined with a slash. - Joining for example 'http://' and 'www.example.com' is also supported. Mapping() Provide the JIT with a nice shape / hidden class. MappingList() A data structure to provide a sorted view of accumulated mappings in a performance conscious manner. It trades a neglibable overhead in general case for a large speedup in case of mappings being added in order. normalize(aPath) Normalizes a path, or the path portion of a URL: - Replaces consequtive slashes with one slash. - Removes unnecessary '.' parts. - Removes unnecessary '/..' parts. Based on code in the Node.js 'path' core module. Parameters: Name Type Description aPath The path or url to normalize. parse() Parse extensions header value PerMessageDeflate() Per-message Compression Extensions implementation querystringParse(q) `querystring.parse` using `unescape` instead of decodeURIComponent, since bittorrent clients send non-UTF8 querystrings Parameters: Name Type Description q string Returns: Type Object querystringStringify(obj) `querystring.stringify` using `escape` instead of encodeURIComponent, since bittorrent clients send non-UTF8 querystrings Parameters: Name Type Description obj Object Returns: Type string quickSort(ary, comparator) Sort the given array in-place with the given comparator function. Parameters: Name Type Description ary Array An array to sort. comparator function Function to use to compare two items. randomIntInRange(low, high) Returns a random integer within the range `low .. high` inclusive. Parameters: Name Type Description low Number The lower bound on the range. high Number The upper bound on the range. readUInt16BE() Buffer utilities Receiver() HyBi Receiver implementation Receiver() Hixie Receiver implementation recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) Recursive implementation of binary search. Parameters: Name Type Description aLow Indices here and lower do not contain the needle. aHigh Indices here and higher do not contain the needle. aNeedle The element being searched for. aHaystack The non-empty array being searched. aCompare Function which takes two elements and returns -1, 0, or 1. aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or 'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the closest element that is smaller than or greater than the one we are searching for, respectively, if the exact element cannot be found. relative(aRoot, aPath) Make a path relative to a URL or another path. Parameters: Name Type Description aRoot The root path or URL. aPath The path or URL to be made relative to aRoot. search(aNeedle, aHaystack, aCompare, aBias) This is an implementation of binary search which will always try and return the index of the closest element if there is no exact hit. This is because mappings between original and generated line/col pairs are single points, and there is an implicit region between each of them, so a miss just means that you aren't on the very start of a region. Parameters: Name Type Description aNeedle The element you are looking for. aHaystack The array that is being searched. aCompare A function which takes the needle and an element in the array and returns -1, 0, or 1 depending on whether the needle is less than, equal to, or greater than the element, respectively. aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or 'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the closest element that is smaller than or greater than the one we are searching for, respectively, if the exact element cannot be found. Defaults to 'binarySearch.GREATEST_LOWER_BOUND'. Sender() Hixie Sender implementation Sender() HyBi Sender implementation set(listener) Start listening for events Parameters: Name Type Description listener function the listener Returns: the set function or undefined Type Mixed SourceMapGenerator() An instance of the SourceMapGenerator represents a source map which is being built incrementally. You may pass an object with the following properties: - file: The filename of the generated source. - sourceRoot: A root for all relative URLs in this source map. SourceNode(aLine, aColumn, aSource, aChunks, aName) SourceNodes provide a way to abstract over interpolating/concatenating snippets of generated JavaScript source code while maintaining the line and column information associated with the original source code. Parameters: Name Type Description aLine The original line number. aColumn The original column number. aSource The original source's filename. aChunks Optional. An array of strings which are snippets of generated JS, or other SourceNodes. aName The original identifier. swap(ary, x, y) Swap the elements indexed by `x` and `y` in the array `ary`. Parameters: Name Type Description ary Array The array. x Number The index of the first item. y Number The index of the second item. toSetString(String) Because behavior goes wacky when you set `__proto__` on objects, we have to prefix all the strings in our set with an arbitrary character. See https://github.com/mozilla/source-map/pull/31 and https://github.com/mozilla/source-map/issues/30 Parameters: Name Type Description String aStr toVLQSigned() Converts from a two-complement value to a value where the sign bit is placed in the least significant bit. For example, as decimals: 1 becomes 2 (10 binary), -1 becomes 3 (11 binary) 2 becomes 4 (100 binary), -2 becomes 5 (101 binary) UDPTracker(client, announceUrl, opts) UDP torrent tracker client (for an individual tracker) Parameters: Name Type Description client Client parent bittorrent tracker client announceUrl string announce url of tracker opts Object options object WebSocketServer() WebSocket Server implementation × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Classes Classes API Client CloseEvent CloudFunction FilesManagement MessageEvent OpenEvent TaskManager WebSocket Namespaces TaskController × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Namespaces Classes API Client CloseEvent CloudFunction FilesManagement MessageEvent OpenEvent TaskManager WebSocket Namespaces TaskController × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer PM2 CloudFunctionsExecute functions in a cloud of PM2s. This modules auto-link all PM2s in the same network and allows to execute functions in any of them, in any languages. The more PM2 you add, the more calculation power you get. Quick startInter connect process managersOn multiple servers in the same private network (RPN, wifi...), type these two commands: $ npm install pm2 -g $ pm2 install cloud-functionsThis will connect each process manager together. To display cloud functions logs do $ pm2 logs cloud-functions Create a base appNow we have to create a project with this structure: . ├── index.js ├── package.json └── tasks ├── task_1.js ├── task_2.js └── request.jsNow let's add some orchestration code into the index.js: ./index.js var cloudfunctions = require('cloudfunctions').conf({ task_folder : 'tasks' }); cloudfunctions.on('ready', function() { console.log('Cloud function is ready'); }); setInterval(function() { /** * This will invoke the function &lt;filename&gt; (here request) * in each server connected in a round robin way */ client.invoke('request', { url : 'http://google.com/' }, function(err, response, server_meta) { console.log('From server %s:%s', server.name, server.ip); console.log('Got response %s', data); }); }, 1000);Then create a folder called tasks/ and add a first task into it: ./tasks/request.js var request = require('request'); module.exports = function(data, cb) { request.get(data.url, function(err, res, body) { if (err) return cb(err); cb(null, { response : body }); }); };Now start the main application: $ node index.jsYou will see that in each server tasks are launched: $ pm2 lsCommandsList tasks currently managed: $ pm2 lsMonitor tasks memory/cpu consumption: $ pm2 monitDisplay logs: $ pm2 logs &lt;task-name&gt;tests$ npm testAPI Doc$ google-chrome docs/index.htmlLicenseApache V2 (see LICENSE.txt) # Overview (old doc)# Cloud FunctionA cloud function is a simple script that will be executed over the network and will return a result to the calling script. Example: module.exports = function(context, cb) { request(context.data.url, function (err, res, body) { if (error) return cb(error); return cb(null, body); }); };Automatic discoveryEach PM2 in the same subnet will auto discover themseleves via DNS multicast. Files &amp; Env synchronizationThe working directory will be automatically synchronized over the network. One PM2 is the &quot;file master&quot; and all other peers will synchronize with these files. The node_modules folder is also included on file broadcast. Data is transfered via a gziped tarball. Lambda managementPM2 is behind the scene to manage and cluster (if JS apps) tasks. Lambda in another languageTo write a lambda in another language, you just need to create a HTTP server listening on port TASK_PORT on route / and returning the value needed: Python: #!/usr/bin/python from BaseHTTPServer import BaseHTTPRequestHandler,HTTPServer import os PORT_NUMBER = int(os.environ['TASK_PORT']) class myHandler(BaseHTTPRequestHandler): #Handler for the GET requests def do_GET(self): self.send_response(200) self.send_header('Content-type','text/data') self.end_headers() self.wfile.write(&quot;Hello World !&quot;) return server = HTTPServer(('', PORT_NUMBER), myHandler) server.serve_forever() Index lib/api.js Expose API to CloudFunctions Author: Alexandre Strzelewicz × Search results Close "},"API.html":{"id":"API.html","title":"Class: API","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: API API new API(opts) Set API default values This: {API} Parameters: Name Type Description opts object options Properties Name Type Description port Port to listen on task_manager Task manager object file_manager File manager object file_manager Network manager (cloudfunctions.js) object tls TLS keys Methods mountRoutes() Mount API routes setMiddlewares() Set Express middlewares (JSON parsing, Attach class to req) start() Start API and listen to port stop() Stop API + Terminate Task manager × Search results Close "},"Client.html":{"id":"Client.html","title":"Class: Client","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: Client Client new Client() Client constructor This: {Client} Parameters: Name Type Description opts.task_folder opts.instances opts.env × Search results Close "},"CloseEvent.html":{"id":"CloseEvent.html","title":"Class: CloseEvent","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: CloseEvent CloseEvent new CloseEvent() W3C CloseEvent See: http://www.w3.org/TR/html5/comms.html × Search results Close "},"CloudFunction.html":{"id":"CloudFunction.html","title":"Class: CloudFunction","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: CloudFunction CloudFunction new CloudFunction(opts, cb) Main entry point of CloudFunction This: {CloudFunction} Parameters: Name Type Description opts object options Properties Name Type Description tmp_file string default location of sync data tmp_folder string default location of folder uncomp peer_api_port integer API port (then task p+1++) ns string (default pm2:fs) is_file_master boolean (default false) peer_address string (default network ip) private_key string Private key passed to TCP and HTTP public_key string Public key passed to TCP and HTTP cb function callback Members forum Start network discovery Methods &lt;static&gt; sendJson(sock, data) Transform JSON data to string and write to socket Parameters: Name Type Description sock object socket obj data object json object askAllPeersToSync() Send command to all peers to synchronize askPeerToSync(sock) Send synchronize command to target sock Parameters: Name Type Description sock object socket obj close() Stop API + Network discovery + clear files getPeers() Return peers connected onNewPeer(sock) Handle peer when connected Parameters: Name Type Description sock object socket object start(sock) Start network discovery Parameters: Name Type Description sock object socket object × Search results Close "},"FilesManagement.html":{"id":"FilesManagement.html","title":"Class: FilesManagement","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: FilesManagement FilesManagement new FilesManagement(opts) File manager, takes care of sync files Parameters: Name Type Description opts object options Properties Name Type Description dest_file String Port to start on Methods &lt;static&gt; retrieveFile() Get route and pipe file to dest_file clear() Clear all temporary folder/files synchronize() Download + Unzip tarball from target_ip / port (for slave to synchronize with file master) × Search results Close "},"MessageEvent.html":{"id":"MessageEvent.html","title":"Class: MessageEvent","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: MessageEvent MessageEvent new MessageEvent() W3C MessageEvent See: http://www.w3.org/TR/html5/comms.html × Search results Close "},"OpenEvent.html":{"id":"OpenEvent.html","title":"Class: OpenEvent","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: OpenEvent OpenEvent new OpenEvent() W3C OpenEvent See: http://www.w3.org/TR/html5/comms.html × Search results Close "},"TaskController.html":{"id":"TaskController.html","title":"Namespace: TaskController","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Namespace: TaskController TaskController Methods &lt;static&gt; list_tasks() res.send(array_of_tasks) × Search results Close "},"TaskManager.html":{"id":"TaskManager.html","title":"Class: TaskManager","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: TaskManager TaskManager new TaskManager(opts) The Task Manager manage all tasks Parameters: Name Type Description opts object options Properties Name Type Description port_offset Integer Port to start on Methods getAllTasksInFolder(tasks_fullpath, cb) Get files in target folder Parameters: Name Type Description tasks_fullpath string Absolute path to list files cb function callback called once files are listed initTaskGroup(opts) List all tasks and .startTasks each of them Parameters: Name Type Description opts object options Properties Name Type Description base_folder string absolute project path task_folder string absolute task folder path instances string number of instances of each script json_conf string NIY setTaskMeta(task_meta) Set Task default meta Parameters: Name Type Description task_meta Object startTasks(opts, tasks_files, cb) Start a list of task_files Parameters: Name Type Description opts object options Properties Name Type Description base_folder string absolute project path task_folder string absolute task folder path instances string number of instances of each script json_conf string NIY tasks_files array array of files (tasks) cb function callback triggered once application started × Search results Close "},"WebSocket.html":{"id":"WebSocket.html","title":"Class: WebSocket","body":" PM2 CloudFunctions Namespaces TaskController Classes APIClientCloseEventCloudFunctionFilesManagementMessageEventOpenEventTaskManagerWebSocket Global ArraySetBasicSourceMapConsumerbufferIndexcleanUpNodesAfterPrunecompareByGeneratedPositionsDeflatedcompareByGeneratedPositionsInflatedcompareByOriginalPositionsdecodedoQuickSortEMPTYencodeextendformatfromStringfromUInt64fromVLQSignedgeneratedPositionAftergetgetArghandleHybiUpgradeHTTPTrackerIndexedSourceMapConsumerinitAsServerClientjoinMappingMappingListnormalizeopcodesparsePerMessageDeflateprotocolVersionquerystringquerystringParsequerystringStringifyquickSortrandomIntInRangereadUInt16BEReceiverrecursiveSearchrelativesearchSendersetSourceMapGeneratorSourceNodeswaptoSetStringtoVLQSignedUDPTrackerWebSocketServer Class: WebSocket WebSocket new WebSocket(address, protocols, options) WebSocket implementation Parameters: Name Type Description address String Connection address. protocols String | Array WebSocket protocols. options Object Additional connection options. Methods addEventListener() Emulates the W3C Browser based WebSocket interface using addEventListener. See: https://developer.mozilla.org/en/DOM/element.addEventListener http://dev.w3.org/html5/websockets/#the-websocket-interface close(data) Gracefully closes the connection, after sending a description message to the server Parameters: Name Type Description data Object to be sent to the server pause() Pause the client stream ping(data, Members, dontFailWhenClosed) Sends a ping Parameters: Name Type Description data Object to be sent to the server Members Object mask: boolean, binary: boolean dontFailWhenClosed boolean indicates whether or not to throw if the connection isnt open pong(data, Members, dontFailWhenClosed) Sends a pong Parameters: Name Type Description data Object to be sent to the server Members Object mask: boolean, binary: boolean dontFailWhenClosed boolean indicates whether or not to throw if the connection isnt open resume() Resume the client stream send(data, Members, Optional) Sends a piece of data Parameters: Name Type Description data Object to be sent to the server Members Object mask: boolean, binary: boolean, compress: boolean Optional function callback which is executed after the send completes stream(Members, 'function) Streams data through calls to a user supplied function Parameters: Name Type Description Members Object mask: boolean, binary: boolean, compress: boolean 'function function (error, send)' which is executed on successive ticks of which send is 'function (data, final)'. terminate() Immediately shuts down the connection × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
